(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"4p3S":function(l,n,e){"use strict";e.d(n,"a",function(){return o});var t=e("RwQR"),i=e("Sy1n"),o=function(){function l(l,n,e,i){this.dataService=l,this.activeModal=n,this.modalService=e,this.translateService=i,this.items=[],this.title="Page with data table",this.loading=!1,this.selectedIds=[],this.collectionSize=0,this.queryOptions=new t.a("name","asc",1,10,0,0)}return l.prototype.ngOnInit=function(){this.getList()},l.prototype.modalOpen=function(l,n){var e=this;void 0===n&&(n=!1),this.modalRef=this.modalService.open(this.getModalContent(),{size:"lg",backdrop:"static",keyboard:!1}),this.setModalInputs(l,n),this.modalRef.result.then(function(l){e.getList()},function(l){})},l.prototype.setModalInputs=function(l,n){void 0===n&&(n=!1);var e=void 0!==l&&!n;this.modalRef.componentInstance.modalTitle=this.getLangString(e?"EDITING":"ADD"),this.modalRef.componentInstance.itemId=l||0,this.modalRef.componentInstance.isItemCopy=n||!1,this.modalRef.componentInstance.isEditMode=e},l.prototype.deleteItemConfirm=function(l){var n=this;this.modalRef=this.modalService.open(i.c),this.modalRef.componentInstance.modalTitle=this.getLangString("CONFIRM"),this.modalRef.componentInstance.modalContent=this.getLangString("YOU_SURE_YOU_WANT_DELETE"),this.modalRef.result.then(function(e){"accept"===e&&n.deleteItem(l)})},l.prototype.getLangString=function(l){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][l]||l},l.prototype.confirmAction=function(l){return this.modalRef=this.modalService.open(i.c),this.modalRef.componentInstance.modalTitle=this.getLangString("CONFIRM"),this.modalRef.componentInstance.modalContent=l,this.modalRef.result},l.prototype.blockSelected=function(){var l=this;0!==this.selectedIds.length?this.dataService.actionBatch(this.selectedIds,"block").subscribe(function(n){l.clearSelected(),l.getList()},function(n){return l.showAlert(n.error||l.getLangString("ERROR"))}):this.showAlert(this.getLangString("NOTHING_IS_SELECTED"))},l.prototype.deleteSelected=function(){var l=this;0!==this.selectedIds.length?this.confirmAction(this.getLangString("YOU_SURE_YOU_WANT_DELETE_SELECTED")).then(function(n){"accept"===n&&l.dataService.actionBatch(l.selectedIds,"delete").subscribe(function(n){l.clearSelected(),l.getList()},function(n){return l.showAlert(n.error||l.getLangString("ERROR"))})}):this.showAlert(this.getLangString("NOTHING_IS_SELECTED"))},l.prototype.showAlert=function(l){this.modalRef=this.modalService.open(i.a),this.modalRef.componentInstance.modalContent=l,this.modalRef.componentInstance.modalTitle=this.getLangString("ERROR"),this.modalRef.componentInstance.messageType="error"},l.prototype.deleteItem=function(l){var n=this;this.confirmAction(this.getLangString("YOU_SURE_YOU_WANT_DELETE")).then(function(e){"accept"===e&&n.dataService.deleteItem(l).subscribe(function(l){n.getList()},function(l){l.error&&n.showAlert(l.error)})})},l.prototype.clearSelected=function(){this.table&&this.table.clearSelected()},l.prototype.actionRequest=function(l){switch(l[0]){case"edit":this.modalOpen(l[1]);break;case"copy":this.modalOpen(l[1],!0);break;case"delete":this.deleteItem(l[1]);break;case"changeQuery":this.getList()}},l.prototype.getList=function(){var l=this;this.loading=!0,this.dataService.getListPage(this.queryOptions).subscribe(function(n){l.items=n.items,l.collectionSize=n.total,l.loading=!1},function(n){l.items=[],l.collectionSize=0,n.error&&l.showAlert(n.error),l.loading=!1})},l}()},"7SEM":function(l,n,e){"use strict";e.d(n,"a",function(){return p}),e.d(n,"b",function(){return C});var t=e("CcnG"),i=e("A7o+"),o=e("Ip0R"),u=e("4GxJ"),a=e("OKOO"),r=e("fMdm"),s=e("wgQU"),c=e("9AJC"),d=e("gIcY"),p=(e("hecf"),e("ZYCi"),t["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"button",[["class","btn btn-block btn-link"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.selectSortBy(l.context.$implicit.sortName)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,i.i,[i.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[],[[2,"icon-arrow-down",null],[2,"icon-arrow-up",null],[4,"visibility",null]],null,null,null,null))],null,function(l,n){var e=n.component;l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform(n.context.$implicit.title))),l(n,4,0,"asc"==e.queryOptions.sort_dir,"desc"==e.queryOptions.sort_dir,n.context.$implicit.sortName==e.queryOptions.sort_by?"visible":"hidden")})}function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,3,"th",[["class","text-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","custom-control custom-checkbox custom-checkbox-single mr-4"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"input",[["class","custom-control-input"],["id","fieldSelectAll"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.selectAll(e)&&t),t},null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"label",[["class","custom-control-label"],["for","fieldSelectAll"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](7,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,7,0,n.component.tableFields)},function(l,n){var e=n.component;l(n,3,0,0===e.items.length),l(n,4,0,e.getIsSelectedAll())})}function m(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,3,"button",[["class","btn btn-secondary btn-sm ml-2"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.action("copy",l.parent.parent.parent.context.$implicit.id)&&t),t},null,null)),t["\u0275did"](1,212992,null,0,u.Z,[t.ElementRef,t.Renderer2,t.Injector,t.ComponentFactoryResolver,t.ViewContainerRef,u.ab,t.NgZone,o.DOCUMENT],{ngbTooltip:[0,"ngbTooltip"]},null),t["\u0275pid"](131072,i.i,[i.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","icon-stack"]],null,null,null,null,null)),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("COPY")),""))},null)}function g(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","relative"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","show-on-hover-right no-wrap"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,16777216,null,null,3,"button",[["class","btn btn-secondary btn-sm ml-2"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.action("edit",l.parent.parent.context.$implicit.id)&&t),t},null,null)),t["\u0275did"](3,212992,null,0,u.Z,[t.ElementRef,t.Renderer2,t.Injector,t.ComponentFactoryResolver,t.ViewContainerRef,u.ab,t.NgZone,o.DOCUMENT],{ngbTooltip:[0,"ngbTooltip"]},null),t["\u0275pid"](131072,i.i,[i.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","icon-pencil"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](7,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,16777216,null,null,3,"button",[["class","btn btn-secondary btn-sm ml-2"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.action("delete",l.parent.parent.context.$implicit.id)&&t),t},null,null)),t["\u0275did"](9,212992,null,0,u.Z,[t.ElementRef,t.Renderer2,t.Injector,t.ComponentFactoryResolver,t.ViewContainerRef,u.ab,t.NgZone,o.DOCUMENT],{ngbTooltip:[0,"ngbTooltip"]},null),t["\u0275pid"](131072,i.i,[i.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","icon-cross"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,3,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("EDIT")),"")),l(n,7,0,e.isCloneAllowed),l(n,9,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,9,0,t["\u0275nov"](n,10).transform("DELETE")),""))},null)}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](2,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"app-output-field",[],null,[[null,"changeRequest"]],function(l,n,e){var t=!0;return"changeRequest"===n&&(t=!1!==l.component.optionUpdate(e)&&t),t},a.b,a.a)),t["\u0275did"](4,114688,null,0,r.a,[s.a],{object:[0,"object"],value:[1,"value"],outputType:[2,"outputType"],options:[3,"options"]},{changeRequest:"changeRequest"})],function(l,n){l(n,2,0,n.context.index==n.component.tableFields.length-1),l(n,4,0,n.parent.context.$implicit,n.parent.context.$implicit[n.context.$implicit.name],n.context.$implicit.outputType,n.context.$implicit.outputProperties)},null)}function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"tr",[["class","show-on-hover-parent"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","custom-control custom-checkbox custom-checkbox-single mr-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setSelected(e,l.context.$implicit.id)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"label",[["class","custom-control-label"]],[[8,"htmlFor",0]],null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](6,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,6,0,n.component.tableFields)},function(l,n){var e=n.component;l(n,3,0,t["\u0275inlineInterpolate"](1,"fieldCheck",n.context.$implicit.id,""),e.getIsSelected(n.context.$implicit.id)),l(n,4,0,t["\u0275inlineInterpolate"](1,"fieldCheck",n.context.$implicit.id,""))})}function S(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ngb-pagination",[["role","navigation"]],[[8,"className",0]],[[null,"pageChange"],[null,"pageSizeChange"]],function(l,n,e){var t=!0,i=l.component;return"pageChange"===n&&(t=!1!==(i.queryOptions.page=e)&&t),"pageSizeChange"===n&&(t=!1!==(i.queryOptions.limit=e)&&t),"pageChange"===n&&(t=!1!==i.pageChange()&&t),t},c.g,c.d)),t["\u0275did"](1,573440,null,0,u.A,[u.B],{boundaryLinks:[0,"boundaryLinks"],rotate:[1,"rotate"],collectionSize:[2,"collectionSize"],maxSize:[3,"maxSize"],page:[4,"page"],pageSize:[5,"pageSize"]},{pageChange:"pageChange"})],function(l,n){var e=n.component;l(n,1,0,!1,!0,e.collectionSize,7,e.queryOptions.page,e.queryOptions.limit)},function(l,n){l(n,0,0,"mb-0")})}function C(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{tableElement:0}),(l()(),t["\u0275eld"](1,0,null,null,37,"div",[["class","table-responsive"]],[[2,"loading",null]],null,null,null,null)),(l()(),t["\u0275eld"](2,0,[[1,0],["tableElement",1]],null,9,"table",[["class","table table-striped table-divided mb-0"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](4,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](7,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](8,0,null,null,3,"tr",[["class","table-active"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"td",[["class","text-center p-4"]],[[1,"colspan",0]],null,null,null,null)),(l()(),t["\u0275ted"](10,null,[" "," "])),t["\u0275pid"](131072,i.i,[i.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,26,"div",[["class","pt-3"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,22,"div",[["class","float-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,21,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var i=!0,o=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,15).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,15).onTouched()&&i),"ngModelChange"===n&&(i=!1!==(o.queryOptions.limit=e)&&i),"change"===n&&(i=!1!==o.pageChange("limit")&&i),i},null,null)),t["\u0275did"](15,16384,null,0,d.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,d.NG_VALUE_ACCESSOR,function(l){return[l]},[d.SelectControlValueAccessor]),t["\u0275did"](17,671744,null,0,d.NgModel,[[8,null],[8,null],[8,null],[6,d.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.NgControl,null,[d.NgModel]),t["\u0275did"](19,16384,null,0,d.NgControlStatus,[[4,d.NgControl]],null,null),(l()(),t["\u0275eld"](20,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](21,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](22,147456,null,0,d["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["10"])),(l()(),t["\u0275eld"](24,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](25,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](26,147456,null,0,d["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["20"])),(l()(),t["\u0275eld"](28,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](29,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](30,147456,null,0,d["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["50"])),(l()(),t["\u0275eld"](32,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](33,147456,null,0,d.NgSelectOption,[t.ElementRef,t.Renderer2,[2,d.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](34,147456,null,0,d["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["100"])),(l()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](37,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](38,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){var e=n.component;l(n,4,0,e.items.length>0),l(n,7,0,e.items),l(n,17,0,e.queryOptions.limit),l(n,21,0,10),l(n,22,0,10),l(n,25,0,20),l(n,26,0,20),l(n,29,0,50),l(n,30,0,50),l(n,33,0,100),l(n,34,0,100),l(n,37,0,e.collectionSize>e.queryOptions.limit)},function(l,n){var e=n.component;l(n,1,0,e.loading),l(n,8,0,e.items.length>0),l(n,9,0,e.tableFields.length+1),l(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform("EMPTY"))),l(n,12,0,0===e.items.length),l(n,14,0,t["\u0275nov"](n,19).ngClassUntouched,t["\u0275nov"](n,19).ngClassTouched,t["\u0275nov"](n,19).ngClassPristine,t["\u0275nov"](n,19).ngClassDirty,t["\u0275nov"](n,19).ngClassValid,t["\u0275nov"](n,19).ngClassInvalid,t["\u0275nov"](n,19).ngClassPending)})}},OKOO:function(l,n,e){"use strict";var t=e("CcnG"),i=e("4GxJ"),o=e("Ip0R"),u=function(){function l(){}return l.prototype.transform=function(l,n){var e;return e=l instanceof Date?l:this.createDate(l),new o.DatePipe("en-US").transform(e,n)},l.prototype.createDate=function(l){return"object"==typeof l&&l.date?new Date(l.date):null},l}(),a=e("wgQU"),r=function(){function l(l){this.appSettings=l}return l.prototype.transform=function(l){var n=this.appSettings.settings.rolesHierarchy,e=l,t=n.findIndex(function(n){return n.name===l});return t>-1&&(e=n[t].title),e},l}(),s=function(){function l(){}return l.prototype.transform=function(l){var n={ROLE_USER:"badge-primary",ROLE_ADMIN:"badge-warning",ROLE_SUPER_ADMIN:"badge-warning"},e="badge-primary";return n.hasOwnProperty(l)&&(e=n[l]),"badge "+e},l}();e("fMdm"),e.d(n,"a",function(){return c}),e.d(n,"b",function(){return S});var c=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function d(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","big text-success icon-circle-check"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","big text-muted icon-circle-cross"]],[[8,"hidden",0]],null,null,null,null))],null,function(l,n){var e=n.component;l(n,1,0,!e.value),l(n,2,0,e.value)})}function p(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,function(l,n){var e=n.component,i=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,0),e.value,"1.2-2","ru-RU"));l(n,1,0,i)})}function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,2)],null,function(l,n){var e=n.component,i=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,1),e.value,e.options.format));l(n,1,0,i)})}function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,2)],null,function(l,n){var e=n.component,i=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,2),e.value,e.options.format));l(n,1,0,i)})}function m(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"span",[],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](2,1),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275ppd"](4,1)],null,function(l,n){var e=n.component,i=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,3),e.value));l(n,1,0,i);var o=t["\u0275unv"](n,3,0,l(n,4,0,t["\u0275nov"](n.parent,4),e.value));l(n,3,0,o)})}function g(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","dropdown-item"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.optionUpdate("status",l.context.$implicit.name)&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,function(l,n){l(n,1,0,n.context.$implicit.name===n.component.value),l(n,2,0,n.context.$implicit.name)})}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,11,"div",[["ngbDropdown",""]],[[2,"show",null]],[[null,"openChange"]],function(l,n,e){var i=!0;return"openChange"===n&&(i=!1!==l.component.optionUpdate("dropDownOpenChange",t["\u0275nov"](l,2).isOpen())&&i),i},null,null)),t["\u0275did"](2,212992,[["myDrop",4]],2,i.s,[t.ChangeDetectorRef,i.t,o.DOCUMENT,t.NgZone],{placement:[0,"placement"]},{openChange:"openChange"}),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_anchor:0}),(l()(),t["\u0275eld"](5,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-primary btn-xs shk-btn-status dropdown-toggle"],["ngbDropdownToggle",""]],[[4,"backgroundColor",null],[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](l,6).toggleOpen()&&i),i},null,null)),t["\u0275did"](6,16384,null,0,i.nb,[i.s,t.ElementRef],null,null),t["\u0275prd"](2048,[[2,4]],i.mb,null,[i.nb]),(l()(),t["\u0275ted"](8,null,[" "," "])),(l()(),t["\u0275eld"](9,0,null,null,3,"div",[["aria-labelledby","dropdownStatus"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](10,16384,[[1,4]],0,i.lb,[i.s,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](12,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,2,0,"bottom"),l(n,12,0,e.settingsStatuses)},function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,2).isOpen()),l(n,5,0,e.getStatusColor(e.value),t["\u0275nov"](n,6).dropdown.isOpen()),l(n,8,0,e.value),l(n,9,0,!0,t["\u0275nov"](n,10).dropdown.isOpen(),t["\u0275nov"](n,10).placement)})}function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.value)})}function S(l){return t["\u0275vid"](0,[t["\u0275pid"](0,o.DecimalPipe,[t.LOCALE_ID]),t["\u0275pid"](0,o.DatePipe,[t.LOCALE_ID]),t["\u0275pid"](0,u,[]),t["\u0275pid"](0,s,[]),t["\u0275pid"](0,r,[a.a]),(l()(),t["\u0275eld"](5,0,null,null,15,"div",[],null,null,null,null,null)),t["\u0275did"](6,16384,null,0,o.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,d)),t["\u0275did"](8,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](10,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](12,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](14,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](16,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](18,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](20,16384,null,0,o.NgSwitchDefault,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],null,null)],function(l,n){l(n,6,0,n.component.outputType),l(n,8,0,"boolean"),l(n,10,0,"number"),l(n,12,0,"date"),l(n,14,0,"dateObject"),l(n,16,0,"userRole"),l(n,18,0,"status")},null)}},bbPC:function(l,n,e){"use strict";var t=e("gIcY"),i=e("lRln"),o=function(){function l(l,n,e,t,i,o,u,a){var r=this;this.id=l,this.title=n,this.fileName=e,this.extension=t,this.mimeType=i,this.ownerType=o,this.size=u,this.createdDate=a,this.toString=function(){return r.title+"."+r.extension}}return l.getFileData=function(l){var n=l.name.substr(0,l.name.lastIndexOf(".")),e=l.name.substr(l.name.lastIndexOf(".")+1);return new i.a(0,n,e,l.size)},l}();e.d(n,"a",function(){return u});var u=function(){function l(l,n,e,t,i,o){this.fb=l,this.dataService=n,this.systemNameService=e,this.activeModal=t,this.tooltipConfig=i,this.translateService=o,this.submitted=!1,this.loading=!1,this.formErrors={},this.validationMessages={},this.formFields={},this.files={},this.isSaveButtonDisabled=!1,this.localeDefault="",this.localeCurrent="",this.localeFieldsAllowed=[],this.localePreviousValues={},i.placement="bottom",i.container="body",i.triggers="hover click"}return l.prototype.ngOnInit=function(){var l=this;this.onBeforeInit(),this.buildForm(),this.isEditMode||this.isItemCopy?this.getModelData().then(function(){l.onAfterGetData()}):this.onAfterGetData(),this.onAfterInit()},l.prototype.onBeforeInit=function(){},l.prototype.onAfterInit=function(){},l.prototype.onAfterGetData=function(){},l.prototype.getSystemFieldName=function(){return"name"},l.prototype.getLangString=function(l){return this.translateService.store.translations[this.translateService.currentLang][l]||l},l.prototype.getModelData=function(){var l=this;return this.loading=!0,new Promise(function(n,e){l.dataService.getItem(l.itemId).subscribe(function(e){l.isItemCopy&&(e.id=null,e[l.getSystemFieldName()]=""),l.model=e,l.loading=!1,n(e)},function(n){l.errorMessage=n.error||"Error.",l.loading=!1,e(n)})})},l.prototype.buildForm=function(){var l=this,n=this.buildControls(this.formFields,"model");this.form=this.fb.group(n),this.form.valueChanges.subscribe(function(n){return l.onValueChanged("form","",n)})},l.prototype.buildControls=function(l,n,e){void 0===e&&(e="");var i={};for(var o in l)if(l.hasOwnProperty(o)){var u=l[o],a=u.dataKey?this[n][u.dataKey]:this[n];a[o]||(a[o]=u.value),i[o]=new t.FormControl({value:a[o]||"",disabled:u.disabled||!1},u.validators),this.formErrors[e+o]="",this.translateValidationMessages(e,o,u)}return i},l.prototype.translateValidationMessages=function(l,n,e){var i=this;this.validationMessages[l+n]={},e.fieldLabel&&e.validators.indexOf(t.Validators.required)>-1&&this.translateService.get(e.fieldLabel).subscribe(function(e){i.translateService.get("FIELD_REQUIRED",{name:e}).subscribe(function(e){i.validationMessages[l+n].required=e})})},l.prototype.getControl=function(l){return this.form.controls.name},l.prototype.onValueChanged=function(l,n,e){if(void 0===n&&(n=""),this[l]){var t=this[l].value;for(var i in t)if(t.hasOwnProperty(i)){this.formErrors[n+i]="";var o=this[l].get(i);if(o&&(o.dirty||this[n+"submitted"])&&!o.valid)for(var u in o.errors)this.formErrors[n+i]+=this.validationMessages[n+i][u]?this.validationMessages[n+i][u]+" ":"Error. "}}},l.prototype.displayToggle=function(l,n){l.style.display=(n=n||"none"===l.style.display)?"block":"none"},l.prototype.toggleAccordion=function(l,n,e){l.activeIds.indexOf(n)>-1&&e||l.toggle(n)},l.prototype.generateName=function(l){l.name=this.systemNameService.generateName(l.title||"")},l.prototype.closeModal=function(){this.activeModal.close({reason:this.itemId?"edit":"create",data:this.model})},l.prototype.close=function(l){l.preventDefault(),this.activeModal.dismiss("canceled")},l.prototype.getFormData=function(){var l=this,n={};return Object.keys(this.model).forEach(function(e){n[e]=l.files[e]?o.getFileData(l.files[e]):l.model[e]}),n},l.prototype.fileChange=function(l,n){var e=l.target.files;e.length>0&&(this.model[n]=o.getFileData(e[0]),this.files[n]=e[0],this.form.controls[n].setValue(this.files[n].name))},l.prototype.fileClear=function(l,n){this.model[l]=null,this.form.controls[l].reset(null),n.files=null,n.value="",delete this.files[l]},l.prototype.onLocaleSwitch=function(){var l=this;if(this.localeCurrent===this.localeDefault)return this.localeFieldsAllowed.forEach(function(n){l.model[n]=l.localePreviousValues[n]}),void(this.isSaveButtonDisabled=!1);this.model.translations||(this.model.translations={}),this.isSaveButtonDisabled=!0,this.localeFieldsAllowed.forEach(function(n){l.localePreviousValues[n]=l.model[n]||"",l.model[n]=l.model.translations[n]&&l.model.translations[n][l.localeCurrent]||""})},l.prototype.saveTranslations=function(l){var n=this;l&&l.preventDefault(),this.localeFieldsAllowed.forEach(function(l){n.model[l]?(n.model.translations[l]||(n.model.translations[l]={}),n.model.translations[l][n.localeCurrent]=n.model[l]):n.model.translations[l]&&(n.model.translations[l][n.localeCurrent]&&delete n.model.translations[l][n.localeCurrent],0===Object.keys(n.model.translations[l]).length&&delete n.model.translations[l])}),this.localeCurrent=this.localeDefault,this.onLocaleSwitch()},l.prototype.saveRequest=function(){return this.isEditMode?this.dataService.update(this.getFormData()):this.dataService.create(this.getFormData())},l.prototype.onSubmit=function(){this.submitted=!0,this.closeModal()},l.prototype.appendFormData=function(l){},l.prototype.saveFiles=function(l){var n=this;if(0!==Object.keys(this.files).length){var e=new FormData;for(var t in this.files)this.files.hasOwnProperty(t)&&this.files[t]instanceof File&&e.append(t,this.files[t],this.files[t].name);e.append("itemId",String(l)),this.appendFormData(e),this.dataService.postFormData(e).subscribe(function(){n.closeModal()},function(l){n.errorMessage=l.error||"Error.",n.submitted=!1,n.loading=!1})}else this.closeModal()},l.prototype.save=function(){var l=this;if(this.submitted=!0,!this.form.valid)return this.onValueChanged("form"),void(this.submitted=!1);this.loading=!0,this.saveRequest().subscribe(function(n){Object.keys(l.files).length>0?l.saveFiles(n._id||n.id):l.closeModal()},function(n){l.errorMessage=n.error||"Error.",l.loading=!1,l.submitted=!1})},l}()}}]);