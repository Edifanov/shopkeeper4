(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{fLYg:function(e,t){e.exports='<div class="modal-header d-block">\n    <div class="d-block float-right">\n        <button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">\n            <span>{{\'CLOSE\' | translate}}</span>\n        </button>\n    </div>\n    <h4 class="modal-title">{{modalTitle}}</h4>\n</div>\n\n<div class="modal-body py-0" [class.loading]="loading">\n\n    <form autocomplete="off">\n\n        <div class="row">\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.email">\n                    <label class="label-filled">\n                        {{\'EMAIL\' | translate}}\n                    </label>\n                    <input type="text" class="form-control" name="title" formControlName="email" [(ngModel)]="model.email" autocomplete="off">\n                    <div *ngIf="formErrors.email" class="alert alert-danger">\n                        {{formErrors.email}}\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.fullName">\n                    <label class="label-filled">\n                        {{\'FULL_NAME\' | translate}}\n                    </label>\n                    <input type="text" class="form-control" name="title" formControlName="fullName" [(ngModel)]="model.fullName" autocomplete="off">\n                    <div *ngIf="formErrors.fullName" class="alert alert-danger">\n                        {{formErrors.fullName}}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.phone">\n                    <label class="label-filled">\n                        {{\'PHONE\' | translate}}\n                    </label>\n                    <input type="text" class="form-control" name="phone" formControlName="phone" [(ngModel)]="model.phone" autocomplete="off">\n                    <div *ngIf="formErrors.phone" class="alert alert-danger">\n                        {{formErrors.phone}}\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.role">\n                    <label class="label-filled">\n                        {{\'ROLE\' | translate}}\n                    </label>\n                    <select class="form-control" name="role" formControlName="role" [(ngModel)]="model.role">\n                        <option [value]="role.name" *ngFor="let role of userRoles">{{role.title}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.password">\n                    <label class="label-filled">\n                        {{\'PASSWORD\' | translate}}\n                    </label>\n                    <input type="password" class="form-control" name="password" formControlName="password" [(ngModel)]="model.password" autocomplete="off">\n                    <div *ngIf="formErrors.password" class="alert alert-danger">\n                        {{formErrors.password}}\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.confirmPassword">\n                    <label class="label-filled">\n                        {{\'CONFIRM_PASSWORD\' | translate}}\n                    </label>\n                    <input type="password" class="form-control" name="confirmPassword" formControlName="confirmPassword" [(ngModel)]="model.confirmPassword" autocomplete="off">\n                    <div *ngIf="formErrors.confirmPassword" class="alert alert-danger">\n                        {{formErrors.confirmPassword}}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group">\n                    <div class="card card-body p-2 pl-3">\n                        <div class="custom-control custom-checkbox m-0">\n                            <input type="checkbox" class="custom-control-input" id="fieldIsActive" value="1" name="isActive" formControlName="isActive" [(ngModel)]="model.isActive">\n                            <label class="custom-control-label" for="fieldIsActive">{{\'ACTIVE\' | translate}}</label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </form>\n\n    <ngb-accordion [closeOthers]="true" activeIds="accordion-user-options" class="ngb-accordion">\n        <ngb-panel id="accordion-user-options" [title]="\'OPTIONS\' | translate">\n            <ng-template ngbPanelContent>\n\n                <table class="table table-bordered mb-0">\n                    <colgroup>\n                        <col width="27%">\n                        <col width="27%">\n                        <col width="39%">\n                        <col width="7%">\n                    </colgroup>\n                    <thead>\n                        <tr>\n                            <th>{{ \'SYSTEM_NAME\' | translate }}</th>\n                            <th>{{ \'NAME\' | translate }}</th>\n                            <th>{{ \'VALUE\' | translate }}</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor="let option of model.options; let index=index">\n                            <td>\n                                <input type="text" class="form-control form-control-sm" [(ngModel)]="option.name">\n                            </td>\n                            <td>\n                                <input type="text" class="form-control form-control-sm" [(ngModel)]="option.title">\n                            </td>\n                            <td class="text-center">\n                                <input type="text" class="form-control form-control-sm" [(ngModel)]="option.value">\n                            </td>\n                            <td class="text-center">\n                                <button type="button" class="btn btn-secondary btn-sm" ngbTooltip="{{\'DELETE\' | translate}}" (click)="addressFieldsDelete(index)">\n                                    <i class="icon-cross"></i>\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr class="bg-faded">\n                            <td colspan="4" class="text-center">\n                                <button type="button" class="btn btn-secondary btn-sm" (click)="addressFieldsAdd()">\n                                    <i class="icon-plus"></i>\n                                    &nbsp;\n                                    <span>{{\'ADD\' | translate}}</span>\n                                </button>\n                            </td>\n                        </tr>\n                    </tfoot>\n                </table>\n\n            </ng-template>\n        </ngb-panel>\n    </ngb-accordion>\n\n    <div class="alert alert-danger mt-3 mb-0" [hidden]="!errorMessage">\n        <button type="button" class="close" (click)="errorMessage = \'\'">\n            <span aria-hidden="true">&times;</span>\n        </button>\n        {{errorMessage}}\n    </div>\n\n</div>\n<div class="modal-footer d-block">\n    <div class="float-right" *ngIf="allowImpersonation">\n        <a class="btn btn-primary" href="{{baseUrl}}?_switch_user={{model.email}}">\n            <span>{{\'IMPERSONATION\' | translate}}</span>\n        </a>\n    </div>\n    <button type="button" class="btn btn-success btn-wide" [disabled]="submitted && form.valid" (click)="save()">\n        <span>{{\'SAVE\' | translate}}</span>\n    </button>\n    <button type="button" class="btn btn-secondary btn-wide" (click)="activeModal.dismiss()">\n        <span>{{\'CANCEL\' | translate}}</span>\n    </button>\n</div>\n'},podk:function(e,t){e.exports='<div class="card">\n    <div class="card-body">\n\n        <h3>\n            <i class="icon-head"></i>\n            {{\'USERS\' | translate}}\n        </h3>\n        <hr>\n\n        <div class="mb-3">\n            <div class="float-md-right">\n\n                <div ngbDropdown class="d-block d-md-inline-block" placement="bottom-right">\n                    <button class="btn btn-info d-block d-md-inline-block width-100 width-md-auto" ngbDropdownToggle>\n                        <span>{{\'BATCH_ACTIONS\' | translate}}</span>\n                    </button>\n                    <div ngbDropdownMenu>\n                        <button class="dropdown-item" (click)="blockSelected()">{{\'DISABLE_ENABLE\' | translate}}</button>\n                        <button class="dropdown-item" (click)="deleteSelected()">{{\'DELETE\' | translate}}</button>\n                    </div>\n                </div>\n\n                <button type="button" class="btn btn-success btn-wide d-block d-md-inline-block width-100 width-md-auto ml-md-2" (click)="modalOpen()">\n                    <i class="icon-plus"></i>\n                    &nbsp;\n                    <span>{{\'ADD\' | translate}}</span>\n                </button>\n\n            </div>\n            <div class="float-left">\n\n\n\n            </div>\n            <div class="clearfix"></div>\n        </div>\n\n        <app-table [items]="items"\n                   [(selectedIds)]="selectedIds"\n                   [collectionSize]="collectionSize"\n                   [queryOptions]="queryOptions"\n                   [tableFields]="tableFields"\n                   [(loading)]="loading"\n                   [isCloneAllowed]="false"\n                   (actionRequest)="actionRequest($event)"\n                   (changeRequest)="changeRequest($event)" #table></app-table>\n\n    </div>\n</div>'},zrcO:function(e,t,n){"use strict";n.r(t);var o,s=n("CcnG"),r=n("Ip0R"),l=n("d2mR"),a=n("ZYCi"),i=n("gIcY"),c=n("4GxJ"),d=n("A7o+"),p=n("bynA"),f=n("4p3S"),m=n("t/Na"),u=n("9Z1F"),b=n("7AsP"),v=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(e,t,n,o){var s,r=arguments.length,l=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(l=(r<3?s(l):r>3?s(t,n,l):s(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function t(t){var n=e.call(this,t)||this;return n.setRequestUrl("users"),n}return v(t,e),t.prototype.getRolesList=function(){var e=this.getRequestUrl()+"/roles";return this.http.get(e,{headers:this.headers}).pipe(Object(u.a)(this.handleError()))},t=g([Object(s.Injectable)(),h("design:paramtypes",[m.a])],t)}(b.a),w=n("b1TM"),R=n("qbpQ"),E=n("bbPC"),O=n("wgQU"),A=n("RwQR"),M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),S=function(e,t,n,o){var s,r=arguments.length,l=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(l=(r<3?s(l):r>3?s(t,n,l):s(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},N=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},I=function(e){function t(t,n,o,s,r,l,a,c,d){var f=e.call(this,t,n,o,s,r,l)||this;return f.fb=t,f.dataService=n,f.systemNameService=o,f.activeModal=s,f.tooltipConfig=r,f.translateService=l,f.modalService=a,f.settingsService=c,f.appSettings=d,f.model=new p.a(0,"","",[],!0,[]),f.modalTitle="User",f.userRoles=[],f.allowImpersonation=!1,f.formFields={fullName:{fieldLabel:"FULL_NAME",value:"",validators:[i.Validators.required],messages:{}},email:{fieldLabel:"EMAIL",value:"",validators:[i.Validators.required],messages:{}},phone:{fieldLabel:"PHONE",value:"",validators:[],messages:{}},password:{fieldLabel:"PASSWORD",value:"",validators:[],messages:{}},confirmPassword:{fieldLabel:"CONFIRM_PASSWORD",value:"",validators:[],messages:{}},role:{fieldLabel:"ROLE",value:"",validators:[i.Validators.required],messages:{}},isActive:{fieldLabel:"ACTIVE",value:"",validators:[],messages:{}}},f}return M(t,e),t.prototype.onBeforeInit=function(){this.isEditMode||(this.formFields.password.validators.push(i.Validators.required),this.formFields.confirmPassword.validators.push(i.Validators.required)),this.baseUrl=O.a.getBaseUrl(),this.getUserRoles()},t.prototype.onAfterGetData=function(){this.isEditMode&&this.appSettings.isSuperAdmin&&this.appSettings.settings.userEmail!==this.model.email&&(this.allowImpersonation=!0)},t.prototype.getUserRoles=function(){var e=this;this.dataService.getRolesList().subscribe(function(t){t.roles&&(e.userRoles=t.roles)})},t.prototype.addressFieldsAdd=function(){this.model.options||(this.model.options=[]),this.model.options.push(new p.b("","",""))},t.prototype.addressFieldsDelete=function(e){this.model.options.splice(e,1)},t=S([Object(s.Component)({selector:"app-modal-user",template:n("fLYg"),providers:[w.a,R.a]}),N("design:paramtypes",[i.FormBuilder,y,R.a,c.b,c.e,d.c,c.c,w.a,O.a])],t)}(E.a),P=function(e){function t(t,n,o,s){var r=e.call(this,t,n,o,s)||this;return r.dataService=t,r.activeModal=n,r.modalService=o,r.translateService=s,r.title="USERS",r.queryOptions=new A.a("id","desc",1,10,0,0),r.tableFields=[{name:"id",sortName:"id",title:"ID",outputType:"text",outputProperties:{}},{name:"email",sortName:"email",title:"EMAIL",outputType:"text",outputProperties:{}},{name:"fullName",sortName:"fullName",title:"FULL_NAME",outputType:"text",outputProperties:{}},{name:"role",sortName:"roles",title:"ROLE",outputType:"userRole",outputProperties:{}},{name:"isActive",sortName:"isActive",title:"STATUS",outputType:"boolean",outputProperties:{}}],r}return M(t,e),t.prototype.setModalInputs=function(e,t){void 0===t&&(t=!1);var n=void 0!==e&&!t;this.modalRef.componentInstance.modalTitle=e?"User #"+e:this.getLangString("ADD"),this.modalRef.componentInstance.itemId=e||0,this.modalRef.componentInstance.isItemCopy=t||!1,this.modalRef.componentInstance.isEditMode=n},t.prototype.getModalContent=function(){return I},t.prototype.changeRequest=function(e){},t=S([Object(s.Component)({selector:"app-shk-users",template:n("podk"),providers:[y]}),N("design:paramtypes",[y,c.b,c.c,d.c])],t)}(f.a),L=function(e,t,n,o){var s,r=arguments.length,l=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(l=(r<3?s(l):r>3?s(t,n,l):s(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},C=[{path:"",component:P}],k=function(){function e(){}return e=L([Object(s.NgModule)({imports:[a.RouterModule.forChild(C)],exports:[a.RouterModule]})],e)}();n.d(t,"UsersModule",function(){return j});var _=function(e,t,n,o){var s,r=arguments.length,l=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(l=(r<3?s(l):r>3?s(t,n,l):s(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},j=function(){function e(){}return e=_([Object(s.NgModule)({imports:[r.CommonModule,l.a,k],providers:[y],declarations:[P,I],exports:[],entryComponents:[I]})],e)}()}}]);