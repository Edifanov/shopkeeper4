(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"4p3S":function(t,e,o){"use strict";o.d(e,"a",function(){return l});var n=o("CcnG"),s=o("RwQR"),r=o("Sy1n"),i=function(t,e,o,n){var s,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(r<3?s(i):r>3?s(e,o,i):s(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i},a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,o,n){this.dataService=t,this.activeModal=e,this.modalService=o,this.translateService=n,this.items=[],this.title="Page with data table",this.loading=!1,this.selectedIds=[],this.collectionSize=0,this.queryOptions=new s.a("name","asc",1,10,0,0)}return t.prototype.ngOnInit=function(){this.getList()},t.prototype.modalOpen=function(t,e){var o=this;void 0===e&&(e=!1),this.modalRef=this.modalService.open(this.getModalContent(),{size:"lg",backdrop:"static",keyboard:!1}),this.setModalInputs(t,e),this.modalRef.result.then(function(t){o.getList()},function(t){})},t.prototype.setModalInputs=function(t,e){void 0===e&&(e=!1);var o=void 0!==t&&!e;this.modalRef.componentInstance.modalTitle=o?this.getLangString("EDITING"):this.getLangString("ADD"),this.modalRef.componentInstance.itemId=t||0,this.modalRef.componentInstance.isItemCopy=e||!1,this.modalRef.componentInstance.isEditMode=o},t.prototype.deleteItemConfirm=function(t){var e=this;this.modalRef=this.modalService.open(r.c),this.modalRef.componentInstance.modalTitle=this.getLangString("CONFIRM"),this.modalRef.componentInstance.modalContent=this.getLangString("YOU_SURE_YOU_WANT_DELETE"),this.modalRef.result.then(function(o){"accept"===o&&e.deleteItem(t)})},t.prototype.getLangString=function(t){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][t]||t},t.prototype.confirmAction=function(t){return this.modalRef=this.modalService.open(r.c),this.modalRef.componentInstance.modalTitle=this.getLangString("CONFIRM"),this.modalRef.componentInstance.modalContent=t,this.modalRef.result},t.prototype.blockSelected=function(){var t=this;0!==this.selectedIds.length?this.dataService.actionBatch(this.selectedIds,"block").subscribe(function(e){t.clearSelected(),t.getList()},function(e){return t.showAlert(e.error||t.getLangString("ERROR"))}):this.showAlert(this.getLangString("NOTHING_IS_SELECTED"))},t.prototype.deleteSelected=function(){var t=this;0!==this.selectedIds.length?this.confirmAction(this.getLangString("YOU_SURE_YOU_WANT_DELETE_SELECTED")).then(function(e){"accept"===e&&t.dataService.actionBatch(t.selectedIds,"delete").subscribe(function(e){t.clearSelected(),t.getList()},function(e){return t.showAlert(e.error||t.getLangString("ERROR"))})}):this.showAlert(this.getLangString("NOTHING_IS_SELECTED"))},t.prototype.showAlert=function(t){this.modalRef=this.modalService.open(r.a),this.modalRef.componentInstance.modalContent=t,this.modalRef.componentInstance.modalTitle=this.getLangString("ERROR"),this.modalRef.componentInstance.messageType="error"},t.prototype.deleteItem=function(t){var e=this;this.confirmAction(this.getLangString("YOU_SURE_YOU_WANT_DELETE")).then(function(o){"accept"===o&&e.dataService.deleteItem(t).subscribe(function(t){e.getList()},function(t){t.error&&e.showAlert(t.error)})})},t.prototype.clearSelected=function(){this.table&&this.table.clearSelected()},t.prototype.actionRequest=function(t){switch(t[0]){case"edit":this.modalOpen(t[1]);break;case"copy":this.modalOpen(t[1],!0);break;case"delete":this.deleteItem(t[1]);break;case"changeQuery":this.getList()}},t.prototype.getList=function(){var t=this;this.loading=!0,this.dataService.getListPage(this.queryOptions).subscribe(function(e){t.items=e.items,t.collectionSize=e.total,t.loading=!1},function(e){t.items=[],t.collectionSize=0,e.error&&t.showAlert(e.error),t.loading=!1})},i([Object(n.ViewChild)("table"),a("design:type",Object)],t.prototype,"table",void 0),t}()},b1TM:function(t,e,o){"use strict";o.d(e,"a",function(){return c});var n=o("CcnG"),s=o("t/Na"),r=o("F/XL"),i=o("9Z1F"),a=function(t,e,o,n){var s,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(r<3?s(i):r>3?s(e,o,i):s(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.http=t,this.headers=new s.c({"Content-Type":"application/json"}),this.requestUrl="",this.requestUrl="settings"}return t.prototype.setRequestUrl=function(t){this.requestUrl=t},t.prototype.getRequestUrl=function(){return this.requestUrl},t.prototype.getList=function(){return this.http.get(this.getRequestUrl()).pipe(Object(i.a)(this.handleError()))},t.prototype.clearSystemCache=function(){var t=this.getRequestUrl()+"/clear_system_cache";return this.http.post(t,{},{headers:this.headers}).pipe(Object(i.a)(this.handleError()))},t.prototype.runActionPost=function(t){var e=this.getRequestUrl()+"/"+t;return this.http.post(e,{},{headers:this.headers}).pipe(Object(i.a)(this.handleError()))},t.prototype.updateGroup=function(t,e){var o=this.getRequestUrl()+"/"+t;return this.http.put(o,e,{headers:this.headers}).pipe(Object(i.a)(this.handleError()))},t.prototype.getComposerPackagesList=function(){return this.http.get(this.getRequestUrl()+"_composer_installed_packages").pipe(Object(i.a)(this.handleError()))},t.prototype.composerRequirePackage=function(t,e){var o=this.getRequestUrl()+"_composer_require_package";return this.http.post(o,{packageName:t,packageVersion:e},{headers:this.headers}).pipe(Object(i.a)(this.handleError()))},t.prototype.handleError=function(t,e){return void 0===t&&(t="operation"),function(t){if(t.error)throw t.error;return Object(r.a)(e)}},t=a([Object(n.Injectable)(),l("design:paramtypes",[s.a])],t)}()},bbPC:function(t,e,o){"use strict";var n=o("CcnG"),s=o("gIcY"),r=o("lRln"),i=function(){function t(t,e,o,n,s,r,i,a){var l=this;this.id=t,this.title=e,this.fileName=o,this.extension=n,this.mimeType=s,this.ownerType=r,this.size=i,this.createdDate=a,this.toString=function(){return l.title+"."+l.extension}}return t.getFileData=function(t){var e=t.name.substr(0,t.name.lastIndexOf(".")),o=t.name.substr(t.name.lastIndexOf(".")+1),n=t.size;return new r.a(0,e,o,n)},t}();o.d(e,"a",function(){return c});var a=function(t,e,o,n){var s,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(r<3?s(i):r>3?s(e,o,i):s(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,o,n,s,r){this.fb=t,this.dataService=e,this.systemNameService=o,this.activeModal=n,this.tooltipConfig=s,this.translateService=r,this.submitted=!1,this.loading=!1,this.formErrors={},this.validationMessages={},this.formFields={},this.files={},this.isSaveButtonDisabled=!1,this.localeDefault="",this.localeCurrent="",this.localeFieldsAllowed=[],this.localePreviousValues={},s.placement="bottom",s.container="body",s.triggers="hover click"}return t.prototype.ngOnInit=function(){var t=this;this.onBeforeInit(),this.buildForm(),this.isEditMode||this.isItemCopy?this.getModelData().then(function(){t.onAfterGetData()}):this.onAfterGetData(),this.onAfterInit()},t.prototype.onBeforeInit=function(){},t.prototype.onAfterInit=function(){},t.prototype.onAfterGetData=function(){},t.prototype.getSystemFieldName=function(){return"name"},t.prototype.getLangString=function(t){return this.translateService.store.translations[this.translateService.currentLang][t]||t},t.prototype.getModelData=function(){var t=this;return this.loading=!0,new Promise(function(e,o){t.dataService.getItem(t.itemId).subscribe(function(o){t.isItemCopy&&(o.id=null,o[t.getSystemFieldName()]=""),t.model=o,t.loading=!1,e(o)},function(e){t.errorMessage=e.error||"Error.",t.loading=!1,o(e)})})},t.prototype.buildForm=function(){var t=this,e=this.buildControls(this.formFields,"model");this.form=this.fb.group(e),this.form.valueChanges.subscribe(function(e){return t.onValueChanged("form","",e)})},t.prototype.buildControls=function(t,e,o){void 0===o&&(o="");var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],a=i.dataKey?this[e][i.dataKey]:this[e];a[r]||(a[r]=i.value),n[r]=new s.FormControl({value:a[r]||"",disabled:i.disabled||!1},i.validators),this.formErrors[o+r]="",this.translateValidationMessages(o,r,i)}return n},t.prototype.translateValidationMessages=function(t,e,o){var n=this;this.validationMessages[t+e]={},o.fieldLabel&&o.validators.indexOf(s.Validators.required)>-1&&this.translateService.get(o.fieldLabel).subscribe(function(o){n.translateService.get("FIELD_REQUIRED",{name:o}).subscribe(function(o){n.validationMessages[t+e].required=o})})},t.prototype.getControl=function(t){return this.form.controls.name},t.prototype.onValueChanged=function(t,e,o){if(void 0===e&&(e=""),this[t]){var n=this[t].value;for(var s in n)if(n.hasOwnProperty(s)){this.formErrors[e+s]="";var r=this[t].get(s);if(r&&(r.dirty||this[e+"submitted"])&&!r.valid)for(var i in r.errors)this.validationMessages[e+s][i]?this.formErrors[e+s]+=this.validationMessages[e+s][i]+" ":this.formErrors[e+s]+="Error. "}}},t.prototype.displayToggle=function(t,e){e=e||"none"===t.style.display,t.style.display=e?"block":"none"},t.prototype.toggleAccordion=function(t,e,o){t.activeIds.indexOf(e)>-1&&o||t.toggle(e)},t.prototype.generateName=function(t){var e=t.title||"";t.name=this.systemNameService.generateName(e)},t.prototype.closeModal=function(){var t=this.itemId?"edit":"create";this.activeModal.close({reason:t,data:this.model})},t.prototype.close=function(t){t.preventDefault(),this.activeModal.dismiss("canceled")},t.prototype.getFormData=function(){var t=this,e={};return Object.keys(this.model).forEach(function(o){t.files[o]?e[o]=i.getFileData(t.files[o]):e[o]=t.model[o]}),e},t.prototype.fileChange=function(t,e){var o=t.target.files;o.length>0&&(this.model[e]=i.getFileData(o[0]),this.files[e]=o[0],this.form.controls[e].setValue(this.files[e].name))},t.prototype.fileClear=function(t,e){this.model[t]=null,this.form.controls[t].reset(null),e.files=null,e.value="",delete this.files[t]},t.prototype.onLocaleSwitch=function(){var t=this;if(this.localeCurrent===this.localeDefault)return this.localeFieldsAllowed.forEach(function(e){t.model[e]=t.localePreviousValues[e]}),void(this.isSaveButtonDisabled=!1);this.model.translations||(this.model.translations={}),this.isSaveButtonDisabled=!0,this.localeFieldsAllowed.forEach(function(e){t.localePreviousValues[e]=t.model[e]||"",t.model.translations[e]?t.model[e]=t.model.translations[e][t.localeCurrent]||"":t.model[e]=""})},t.prototype.saveTranslations=function(t){var e=this;t&&t.preventDefault(),this.localeFieldsAllowed.forEach(function(t){e.model[t]?(e.model.translations[t]||(e.model.translations[t]={}),e.model.translations[t][e.localeCurrent]=e.model[t]):e.model.translations[t]&&(e.model.translations[t][e.localeCurrent]&&delete e.model.translations[t][e.localeCurrent],0===Object.keys(e.model.translations[t]).length&&delete e.model.translations[t])}),this.localeCurrent=this.localeDefault,this.onLocaleSwitch()},t.prototype.saveRequest=function(){return this.isEditMode?this.dataService.update(this.getFormData()):this.dataService.create(this.getFormData())},t.prototype.onSubmit=function(){this.submitted=!0,this.closeModal()},t.prototype.appendFormData=function(t){},t.prototype.saveFiles=function(t){var e=this;if(0!==Object.keys(this.files).length){var o=new FormData;for(var n in this.files)this.files.hasOwnProperty(n)&&this.files[n]instanceof File&&o.append(n,this.files[n],this.files[n].name);o.append("itemId",String(t)),this.appendFormData(o),this.dataService.postFormData(o).subscribe(function(){e.closeModal()},function(t){e.errorMessage=t.error||"Error.",e.submitted=!1,e.loading=!1})}else this.closeModal()},t.prototype.save=function(){var t=this;if(this.submitted=!0,!this.form.valid)return this.onValueChanged("form"),void(this.submitted=!1);this.loading=!0,this.saveRequest().subscribe(function(e){Object.keys(t.files).length>0?t.saveFiles(e._id||e.id):t.closeModal()},function(e){t.errorMessage=e.error||"Error.",t.loading=!1,t.submitted=!1})},a([Object(n.Input)(),l("design:type",String)],t.prototype,"modalTitle",void 0),a([Object(n.Input)(),l("design:type",Number)],t.prototype,"itemId",void 0),a([Object(n.Input)(),l("design:type",Boolean)],t.prototype,"isItemCopy",void 0),a([Object(n.Input)(),l("design:type",Boolean)],t.prototype,"isEditMode",void 0),t}()},bynA:function(t,e,o){"use strict";o.d(e,"b",function(){return n}),o.d(e,"a",function(){return s});var n=function(){return function(t,e,o){this.name=t,this.title=e,this.value=o}}(),s=function(){return function(t,e,o,n,s,r,i,a,l,c){this.id=t,this.email=e,this.fullName=o,this.roles=n,this.isActive=s,this.options=r,this.role=i,this.phone=a,this.password=l,this.confirmPassword=c}}()},fLYg:function(t,e){t.exports='<div class="modal-header d-block">\n    <div class="d-block float-right">\n        <button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">\n            <span>{{\'CLOSE\' | translate}}</span>\n        </button>\n    </div>\n    <h4 class="modal-title">{{modalTitle}}</h4>\n</div>\n\n<div class="modal-body py-0" [class.loading]="loading">\n\n    <form autocomplete="off">\n\n        <div class="row">\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.email">\n                    <label class="label-filled">\n                        {{\'EMAIL\' | translate}}\n                    </label>\n                    <input type="text" class="form-control" name="title" formControlName="email" [(ngModel)]="model.email" autocomplete="off">\n                    <div *ngIf="formErrors.email" class="alert alert-danger">\n                        {{formErrors.email}}\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.fullName">\n                    <label class="label-filled">\n                        {{\'FULL_NAME\' | translate}}\n                    </label>\n                    <input type="text" class="form-control" name="title" formControlName="fullName" [(ngModel)]="model.fullName" autocomplete="off">\n                    <div *ngIf="formErrors.fullName" class="alert alert-danger">\n                        {{formErrors.fullName}}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.phone">\n                    <label class="label-filled">\n                        {{\'PHONE\' | translate}}\n                    </label>\n                    <input type="text" class="form-control" name="phone" formControlName="phone" [(ngModel)]="model.phone" autocomplete="off">\n                    <div *ngIf="formErrors.phone" class="alert alert-danger">\n                        {{formErrors.phone}}\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.role">\n                    <label class="label-filled">\n                        {{\'ROLE\' | translate}}\n                    </label>\n                    <select class="form-control" name="role" formControlName="role" [(ngModel)]="model.role">\n                        <option [value]="role.name" *ngFor="let role of userRoles">{{role.title}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.password">\n                    <label class="label-filled">\n                        {{\'PASSWORD\' | translate}}\n                    </label>\n                    <input type="password" class="form-control" name="password" formControlName="password" [(ngModel)]="model.password" autocomplete="off">\n                    <div *ngIf="formErrors.password" class="alert alert-danger">\n                        {{formErrors.password}}\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group" [class.form-group-message]="formErrors.confirmPassword">\n                    <label class="label-filled">\n                        {{\'CONFIRM_PASSWORD\' | translate}}\n                    </label>\n                    <input type="password" class="form-control" name="confirmPassword" formControlName="confirmPassword" [(ngModel)]="model.confirmPassword" autocomplete="off">\n                    <div *ngIf="formErrors.confirmPassword" class="alert alert-danger">\n                        {{formErrors.confirmPassword}}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-lg-6" [formGroup]="form">\n                <div class="form-group">\n                    <div class="card card-body p-2 pl-3">\n                        <div class="custom-control custom-checkbox m-0">\n                            <input type="checkbox" class="custom-control-input" id="fieldIsActive" value="1" name="isActive" formControlName="isActive" [(ngModel)]="model.isActive">\n                            <label class="custom-control-label" for="fieldIsActive">{{\'ACTIVE\' | translate}}</label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </form>\n\n    <ngb-accordion [closeOthers]="true" activeIds="accordion-user-options" class="ngb-accordion">\n        <ngb-panel id="accordion-user-options" [title]="\'OPTIONS\' | translate">\n            <ng-template ngbPanelContent>\n\n                <table class="table table-bordered mb-0">\n                    <colgroup>\n                        <col width="27%">\n                        <col width="27%">\n                        <col width="39%">\n                        <col width="7%">\n                    </colgroup>\n                    <thead>\n                        <tr>\n                            <th>{{ \'SYSTEM_NAME\' | translate }}</th>\n                            <th>{{ \'NAME\' | translate }}</th>\n                            <th>{{ \'VALUE\' | translate }}</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor="let option of model.options; let index=index">\n                            <td>\n                                <input type="text" class="form-control form-control-sm" [(ngModel)]="option.name">\n                            </td>\n                            <td>\n                                <input type="text" class="form-control form-control-sm" [(ngModel)]="option.title">\n                            </td>\n                            <td class="text-center">\n                                <input type="text" class="form-control form-control-sm" [(ngModel)]="option.value">\n                            </td>\n                            <td class="text-center">\n                                <button type="button" class="btn btn-secondary btn-sm" ngbTooltip="{{\'DELETE\' | translate}}" (click)="addressFieldsDelete(index)">\n                                    <i class="icon-cross"></i>\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr class="bg-faded">\n                            <td colspan="4" class="text-center">\n                                <button type="button" class="btn btn-secondary btn-sm" (click)="addressFieldsAdd()">\n                                    <i class="icon-plus"></i>\n                                    &nbsp;\n                                    <span>{{\'ADD\' | translate}}</span>\n                                </button>\n                            </td>\n                        </tr>\n                    </tfoot>\n                </table>\n\n            </ng-template>\n        </ngb-panel>\n    </ngb-accordion>\n\n    <div class="alert alert-danger mt-3 mb-0" [hidden]="!errorMessage">\n        <button type="button" class="close" (click)="errorMessage = \'\'">\n            <span aria-hidden="true">&times;</span>\n        </button>\n        {{errorMessage}}\n    </div>\n\n</div>\n<div class="modal-footer d-block">\n    <div class="float-right" *ngIf="allowImpersonation">\n        <a class="btn btn-primary" href="{{baseUrl}}?_switch_user={{model.email}}">\n            <span>{{\'IMPERSONATION\' | translate}}</span>\n        </a>\n    </div>\n    <button type="button" class="btn btn-success btn-wide" [disabled]="submitted && form.valid" (click)="save()">\n        <span>{{\'SAVE\' | translate}}</span>\n    </button>\n    <button type="button" class="btn btn-secondary btn-wide" (click)="activeModal.dismiss()">\n        <span>{{\'CANCEL\' | translate}}</span>\n    </button>\n</div>\n'},podk:function(t,e){t.exports='<div class="card">\n    <div class="card-body">\n\n        <h3>\n            <i class="icon-head"></i>\n            {{\'USERS\' | translate}}\n        </h3>\n        <hr>\n\n        <div class="mb-3">\n            <div class="float-md-right">\n\n                <div ngbDropdown class="d-block d-md-inline-block" placement="bottom-right">\n                    <button class="btn btn-info d-block d-md-inline-block width-100 width-md-auto" ngbDropdownToggle>\n                        <span>{{\'BATCH_ACTIONS\' | translate}}</span>\n                    </button>\n                    <div ngbDropdownMenu>\n                        <button class="dropdown-item" (click)="blockSelected()">{{\'DISABLE_ENABLE\' | translate}}</button>\n                        <button class="dropdown-item" (click)="deleteSelected()">{{\'DELETE\' | translate}}</button>\n                    </div>\n                </div>\n\n                <button type="button" class="btn btn-success btn-wide d-block d-md-inline-block width-100 width-md-auto ml-md-2" (click)="modalOpen()">\n                    <i class="icon-plus"></i>\n                    &nbsp;\n                    <span>{{\'ADD\' | translate}}</span>\n                </button>\n\n            </div>\n            <div class="float-left">\n\n\n\n            </div>\n            <div class="clearfix"></div>\n        </div>\n\n        <div class="min-height400">\n            <app-table [items]="items"\n                       [(selectedIds)]="selectedIds"\n                       [collectionSize]="collectionSize"\n                       [queryOptions]="queryOptions"\n                       [tableFields]="tableFields"\n                       [(loading)]="loading"\n                       [isCloneAllowed]="false"\n                       (actionRequest)="actionRequest($event)"\n                       (changeRequest)="changeRequest($event)" #table></app-table>\n        </div>\n\n    </div>\n</div>'},zrcO:function(t,e,o){"use strict";o.r(e);var n,s=o("CcnG"),r=o("Ip0R"),i=o("d2mR"),a=o("ZYCi"),l=o("gIcY"),c=o("4GxJ"),d=o("A7o+"),p=o("bynA"),u=o("4p3S"),f=o("t/Na"),m=o("9Z1F"),h=o("7AsP"),g=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),v=function(t,e,o,n){var s,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(r<3?s(i):r>3?s(e,o,i):s(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i},b=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(t){function e(e){var o=t.call(this,e)||this;return o.setRequestUrl("users"),o}return g(e,t),e.prototype.getRolesList=function(){var t=this.getRequestUrl()+"/roles";return this.http.get(t,{headers:this.headers}).pipe(Object(m.a)(this.handleError()))},e=v([Object(s.Injectable)(),b("design:paramtypes",[f.a])],e)}(h.a),R=o("b1TM"),S=o("qbpQ"),E=o("bbPC"),O=o("wgQU"),I=o("RwQR"),w=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),M=function(t,e,o,n){var s,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(r<3?s(i):r>3?s(e,o,i):s(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i},A=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},L=function(t){function e(e,o,n,s,r,i,a,c,d){var u=t.call(this,e,o,n,s,r,i)||this;return u.fb=e,u.dataService=o,u.systemNameService=n,u.activeModal=s,u.tooltipConfig=r,u.translateService=i,u.modalService=a,u.settingsService=c,u.appSettings=d,u.model=new p.a(0,"","",[],!0,[]),u.modalTitle="User",u.userRoles=[],u.allowImpersonation=!1,u.formFields={fullName:{fieldLabel:"FULL_NAME",value:"",validators:[l.Validators.required],messages:{}},email:{fieldLabel:"EMAIL",value:"",validators:[l.Validators.required],messages:{}},phone:{fieldLabel:"PHONE",value:"",validators:[],messages:{}},password:{fieldLabel:"PASSWORD",value:"",validators:[],messages:{}},confirmPassword:{fieldLabel:"CONFIRM_PASSWORD",value:"",validators:[],messages:{}},role:{fieldLabel:"ROLE",value:"",validators:[l.Validators.required],messages:{}},isActive:{fieldLabel:"ACTIVE",value:"",validators:[],messages:{}}},u}return w(e,t),e.prototype.onBeforeInit=function(){this.isEditMode||(this.formFields.password.validators.push(l.Validators.required),this.formFields.confirmPassword.validators.push(l.Validators.required)),this.baseUrl=O.a.getBaseUrl(),this.getUserRoles()},e.prototype.onAfterGetData=function(){this.isEditMode&&this.appSettings.isSuperAdmin&&this.appSettings.settings.userEmail!==this.model.email&&(this.allowImpersonation=!0)},e.prototype.getUserRoles=function(){var t=this;this.dataService.getRolesList().subscribe(function(e){e.roles&&(t.userRoles=e.roles)})},e.prototype.addressFieldsAdd=function(){this.model.options||(this.model.options=[]),this.model.options.push(new p.b("","",""))},e.prototype.addressFieldsDelete=function(t){this.model.options.splice(t,1)},e=M([Object(s.Component)({selector:"app-modal-user",template:o("fLYg"),providers:[R.a,S.a]}),A("design:paramtypes",[l.FormBuilder,y,S.a,c.b,c.e,d.c,c.c,R.a,O.a])],e)}(E.a),C=function(t){function e(e,o,n,s){var r=t.call(this,e,o,n,s)||this;return r.dataService=e,r.activeModal=o,r.modalService=n,r.translateService=s,r.title="USERS",r.queryOptions=new I.a("id","desc",1,10,0,0),r.tableFields=[{name:"id",sortName:"id",title:"ID",outputType:"text",outputProperties:{}},{name:"email",sortName:"email",title:"EMAIL",outputType:"text",outputProperties:{}},{name:"fullName",sortName:"fullName",title:"FULL_NAME",outputType:"text",outputProperties:{}},{name:"role",sortName:"roles",title:"ROLE",outputType:"userRole",outputProperties:{}},{name:"isActive",sortName:"isActive",title:"STATUS",outputType:"boolean",outputProperties:{}}],r}return w(e,t),e.prototype.setModalInputs=function(t,e){void 0===e&&(e=!1);var o=void 0!==t&&!e;this.modalRef.componentInstance.modalTitle=t?"User #"+t:this.getLangString("ADD"),this.modalRef.componentInstance.itemId=t||0,this.modalRef.componentInstance.isItemCopy=e||!1,this.modalRef.componentInstance.isEditMode=o},e.prototype.getModalContent=function(){return L},e.prototype.changeRequest=function(t){},e=M([Object(s.Component)({selector:"app-shk-users",template:o("podk"),providers:[y]}),A("design:paramtypes",[y,c.b,c.c,d.c])],e)}(u.a),D=function(t,e,o,n){var s,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(r<3?s(i):r>3?s(e,o,i):s(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i},N=[{path:"",component:C}],j=function(){function t(){}return t=D([Object(s.NgModule)({imports:[a.RouterModule.forChild(N)],exports:[a.RouterModule]})],t)}();o.d(e,"UsersModule",function(){return _});var P=function(t,e,o,n){var s,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(r<3?s(i):r>3?s(e,o,i):s(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i},_=function(){function t(){}return t=P([Object(s.NgModule)({imports:[r.CommonModule,i.a,j],providers:[y],declarations:[C,L],exports:[],entryComponents:[L]})],t)}()}}]);