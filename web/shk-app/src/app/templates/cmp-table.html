<div class="table-responsive-" [class.loading]="loading">
    <table class="table table-striped table-divided mb-0">
        <thead>
            <tr>
                <th class="text-left">
                    <div class="custom-control custom-checkbox" [hidden]="items.length === 0">
                        <input type="checkbox" class="custom-control-input" id="fieldSelectAll" (click)="selectAll($event)">
                        <label class="custom-control-label" for="fieldSelectAll"></label>
                    </div>
                </th>
                <th *ngFor="let tableField of tableFields; let index=index">
                    <button type="button" class="btn btn-block btn-link" (click)="selectSortBy(tableField.name)">
                        {{tableField.title | translate}}
                        <i [class.icon-arrow-down]="queryOptions.sort_dir == 'asc'" [class.icon-arrow-up]="queryOptions.sort_dir == 'desc'" [style.visibility]="tableField.name == queryOptions.sort_by ? 'visible' : 'hidden'"></i>
                    </button>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr class="show-on-hover-parent" *ngFor="let item of items">
                <td>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="fieldCheck{{item.id}}" [checked]="getIsSelected(item.id)" (click)="setSelected($event, item.id)">
                        <label class="custom-control-label" for="fieldCheck{{item.id}}"></label>
                    </div>
                </td>
                <td *ngFor="let tableField of tableFields; let index=index">
                    <div class="relative" *ngIf="index == tableFields.length - 1">
                        <div class="show-on-hover no-wrap">
                            <button type="button" class="btn btn-secondary btn-sm" ngbTooltip="Edit" (click)="action('edit', item.id)">
                                <i class="icon-pencil"></i>
                            </button>
                            <button type="button" class="btn btn-secondary btn-sm" ngbTooltip="Copy" (click)="action('copy', item.id)">
                                <i class="icon-stack"></i>
                            </button>
                            <button type="button" class="btn btn-secondary btn-sm" ngbTooltip="Delete" (click)="action('delete', item.id)">
                                <i class="icon-cross"></i>
                            </button>
                        </div>
                    </div>

                    <output-field
                            [value]="item[tableField.name]"
                            [outputType]="tableField.outputType"
                            [options]="tableField.outputProperties"
                            [object]="item"
                            (changeRequest)="optionUpdate($event)"></output-field>

                </td>
            </tr>
            <tr [hidden]="items.length > 0" class="table-active">
                <td [attr.colspan]="tableFields.length + 1" class="text-center p-4">
                    {{'EMPTY' | translate}}
                </td>
            </tr>
        </tbody>
    </table>
    <div class="pt-3" [hidden]="items.length === 0">

        <div class="float-right">
            <select class="form-control" [(ngModel)]="queryOptions.limit" (change)="pageChange()">
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>

        <ngb-pagination *ngIf="collectionSize > queryOptions.limit" [class]="'mb-0'" [collectionSize]="collectionSize" [(page)]="queryOptions.page" [maxSize]="queryOptions.limit" (pageChange)="pageChange()" [rotate]="true" [boundaryLinks]="false"></ngb-pagination>

        <div class="clearfix"></div>
    </div>
</div>