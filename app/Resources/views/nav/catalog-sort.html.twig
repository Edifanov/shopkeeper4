{% macro pageUrl(currentUri, limit, page, order_by) %}{{ currentUri }}?limit={{ limit }}&page={{ page }}&order_by={{ order_by }}{% endmacro %}
<div class="card mb-3">
    <div class="p-2">
        <div class="float-right">
            <div class="btn-group" role="group" id="shkNavListType">
                <button type="button" class="btn btn-outline-secondary{% if listTemplate == 'grid' %} active{% endif %}" value="grid">
                    <i class="icon-grid2"></i>
                </button>
                <button type="button" class="btn btn-outline-secondary{% if listTemplate == 'list' %} active{% endif %}" value="list">
                    <i class="icon-list"></i>
                </button>
            </div>
        </div>
        <div class="form-inline">
            <label for="catalogSortBy">Сортировать по</label>
            &nbsp;
            <select class="form-control form-control-sm" id="shkNavSortBy" name="sortby">
                <option value="id_desc"{% if queryOptions.order_by == 'id_desc' %} selected{% endif %}>Новизне</option>
                <option value="price_asc"{% if queryOptions.order_by == 'price_asc' %} selected{% endif %}>Увеличению цены</option>
                <option value="price_desc"{% if queryOptions.order_by == 'price_desc' %} selected{% endif %}>Уменьшению цены</option>
                <option value="title_asc"{% if queryOptions.order_by == 'title_asc' %} selected{% endif %}>Названию</option>
            </select>
        </div>
    </div>
</div>
<script>
    var shkCurrentUrl = '{{ _self.pageUrl(catalogPath(currentUri), pagesOptions.limit, pagesOptions.current, queryOptions.order_by) }}';
    var selectEl = document.getElementById('shkNavSortBy');
    if (selectEl) {
        selectEl.addEventListener('change', function(){
            shk.orderByChange(shkCurrentUrl, this.value);
        }, false);
    }
    if (document.querySelectorAll('#shkNavListType button').length > 0) {
        document.querySelectorAll('#shkNavListType button').forEach(function(buttonEl) {
            buttonEl.addEventListener('click', function(){
                shk.catalogListChange(this.value);
            }, false);
        });
    }
</script>